## 隐藏方法（私有方法）
如何为一个私有方法编写测试？
>
    如果需要测试一个私有方法，那么就应该将它设为公用的。
    如果不太方便将其设为公用的，则大多数情况下便意味着我们我的类做的事情太多了，应该进行适当的调整。
>

什么时候不太方便将一个私有方法置为公用的呢？
>
    1. 该方法只是个工具方法：客户并不会去关心它。
    2. 如果客户代码使用了该方法，那么可能会反过来影响到该类上的其他方法调用的结果。

    第一个原因并不算很严重，类的接口上多出一个公用方法并没有什么大不了，只不过我们还是应该试着将它放到另一个类当中会不会更好点。
    而第二个原因要严重一点，不过幸运的是还有补救措施：这个私有方法可以被转移到一个新类当中去。我们可以让它成为这个新类上的公用方法，
    而我们原先的那个类，则可以在内部创建该新类的实例。这个方法也就变得可测试了，而同时我们的设计也得到了改善。
    
    这个建议有点不中听，但它带来了一点效果却是很积极的。
    无论如何这个事实都不会改变：好的设计应当是可测试的，不具可测试性的设计是糟糕的。
>


## 推翻访问保护
>
    在许多比C++晚的面向对象语言中，都可以使用反射(reflection)和特殊许可去(运行期)访问私有变量。
    虽说这样的功能有些时候很好用，但有点“欺骗”的味道。诚然，当我们想要解依赖时是非常有帮助的，
    但我可不希望将访问私有变量的测试代码留在项目中，因为这种以“欺骗”手段访问私有变量的方式会蒙蔽团队的眼睛，
    使他们看不到代码变得有多糟糕。这样说或者有点残酷，但也别忘了，在一个遗留代码基中工作的痛苦经历反过来也能够也为我们去
    进行修改的强大驱动力，当然，我们有时候也可以用“旁门左道”来达到目的，但除非我们着眼于解决根本问题（即责任过多的类和
    错综复杂的依赖），否则再怎么努力也只是暂时逃避问题，最终当每个人都发现代码变得糟糕时再去进行改善所花的代价就难以想象了。
>