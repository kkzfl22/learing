## 长的修改

### 7.1 理解代码

### 7.2 时滞
指从做出修改到得到反馈所经历的时间

通常做一些改动，编译并构建，看看会发生些什么。然尔遗憾的是，并没有一个软件知道如何躲避构建过程中的暗礁。
所谓的暗礁就是指像测试失败这类东西。取而代之的是我们一次进行一系列的修改，以免构建活动太过频繁。
如果没有问题，我们继续，行动如地址地球控制火星车Spirit一样慢。一个命令约7分钟才能反馈。而如果触碎了，则会慢上加慢。

这是一种悲哀的工作方式。
在大多数的语言中完全没必要这样做。这完全是浪费时间。

### 7.3 解依赖
解依赖可能会带来一些问题，不过所幸我们可以解开它们。
对于面向对象的代码，通常第一步就是在测试用例中实例化我们所需的类。


### 7.4 构建依赖
在一个面向对象的系统中，如果想让一簇类的构建更快，所要弄清的第一件事情哪些依赖会成为拦路石。
通常这很简单：你只需试着在测试用例中使用该类。所遇的所有问题都会源于某个依赖。

那如何将类的依赖减少到最少呢？
>
    看看这簇类里面有哪些类是被簇外面的其他类使用到的，对这些类进行接口提取。
>

依赖倒置原则
>
    如果你的代码依赖于一个接口，那么这个依赖一般来说是次要的。除非这个接口发生了改变，否则你的代码是无需改变的，
    而接口改动的频率通常情况下要远远低于接口背后的那些代码，在接口不变的前提下，不管是修改实现了该接口的类，
    还是添加实现了该接口的新类，接口的客户代码都不会受到影响。
    因为这个原因，较好的做法是让代码依赖于接口或者抽象类，而不是依赖于具体类。当代码依赖的是较为稳定的东西时。
    因特定改动而导致大规模重编译的可能性也就被降到了最低。
>


当为了解依赖而往设计中引入了额外的接口和包之后，重新构建整个系统的时间就会稍微变长一点。因为有更多的文件要去编译。
但基于需要被重新编译的文件而进行局部重建的平均时耗反而被大大缩短了


当开始优化平均构建时间时，最终将会得到一块块非常易于工作的代码。是的，使一小组类能够单独编译和测试这件工作做起来可能有点痛苦，
但重点是，这是一劳永逸的，一旦完成这件工作，反而就能永远享受它带来的好处。
